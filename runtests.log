('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -o mkfs mkfs.c -Wall
./mkfs -f real_disk_image.img -d 1000 -i 100
total blocks        1007
  inodes            100 [size of each: 128]
  data blocks       1000
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
gcc -o main main.c -Wall -L. -lmfs -g
ldd main
	linux-vdso.so.1 (0x00007ffdc0b96000)
	libmfs.so => ./libmfs.so (0x00007f35bfc42000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f35bf9fd000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f35bfc4e000)
export LD_LIBRARY_PATH=.
ldd main
	linux-vdso.so.1 (0x00007ffc840fa000)
	libmfs.so => ./libmfs.so (0x00007f77f2948000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f77f2703000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f77f2954000)


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7807
/tmp/tmpZ58Izl/p/server 7807 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9443
/tmp/tmpZ58Izl/p/server 9443 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]
1
0x7ffea407da40


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9047
/tmp/tmpZ58Izl/p/server 9047 /home/lull/private/CS537/p4/cs537_p4/test.img
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')
('\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
Failure: Corrupt data returned by read


test write FAILED
 (write then read one block)
 Corrupt data returned by read

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9758
/tmp/tmpZ58Izl/p/server 9758 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Stat gave wrong size


test stat FAILED
 (stat a regular file)
 Stat gave wrong size

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8370
/tmp/tmpZ58Izl/p/server 8370 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Corrupt data returned by read


test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7087
/tmp/tmpZ58Izl/p/server 7087 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Corrupt data returned by read


test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5922
/tmp/tmpZ58Izl/p/server 5922 /home/lull/private/CS537/p4/cs537_p4/test.img
IndexError: list index out of range


test maxfile2 FAILED
 (write more blocks than possible)
 Unexpected exception list index out of range

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5594
/tmp/tmpZ58Izl/p/server 5594 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: '.' in root should point to root inode


test dir1 FAILED
 (check root for dot entries)
 '.' in root should point to root inode

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8335
/tmp/tmpZ58Izl/p/server 8335 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: '.' in directory should point to directory itself


test dir2 FAILED
 (create a new directory and check it)
 '.' in directory should point to directory itself

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9902
/tmp/tmpZ58Izl/p/server 9902 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Creat should fail if pinum is not a directory


test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9042
/tmp/tmpZ58Izl/p/server 9042 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Lookup should fail if pinum is not a directory


test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8814
/tmp/tmpZ58Izl/p/server 8814 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Lookup should fail on an unlinked file


test unlink FAILED
 (unlink a file)
 MFS_Lookup should fail on an unlinked file

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6931
/tmp/tmpZ58Izl/p/server 6931 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Lookup should fail on an unlinked file


test unlink2 FAILED
 (unlink a directory)
 MFS_Lookup should fail on an unlinked file

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5209
/tmp/tmpZ58Izl/p/server 5209 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Unlink should fail on non-empty dir


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5056
/tmp/tmpZ58Izl/p/server 5056 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6913
/tmp/tmpZ58Izl/p/server 6913 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Corrupt data returned by read


test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9160
/tmp/tmpZ58Izl/p/server 9160 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]
0
0x7fff91b58090
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0
1
0x7fff91b53ff0


test bigdir PASSED
 (create a directory with 126 files)

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6084
/tmp/tmpZ58Izl/p/server 6084 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]
0
0x7ffd765169a0
0x7ffd76512900
0
0x7ffd765169a0
0x7ffd76512900
0
0x7ffd765169a0
0x7ffd76512900
0
0x7ffd765169a0
0x7ffd76512900
0
0x7ffd765169a0
0x7ffd76512900


test deep PASSED
 (create many deeply nested directories)

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write FAILED
 (write then read one block)
 Corrupt data returned by read

test stat FAILED
 (stat a regular file)
 Stat gave wrong size

test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

test maxfile2 FAILED
 (write more blocks than possible)
 Unexpected exception list index out of range

test dir1 FAILED
 (check root for dot entries)
 '.' in root should point to root inode

test dir2 FAILED
 (create a new directory and check it)
 '.' in directory should point to directory itself

test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory

test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory

test unlink FAILED
 (unlink a file)
 MFS_Lookup should fail on an unlinked file

test unlink2 FAILED
 (unlink a directory)
 MFS_Lookup should fail on an unlinked file

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink should fail on non-empty dir

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

test bigdir PASSED
 (create a directory with 126 files)

test deep PASSED
 (create many deeply nested directories)

Passed 6 of 19 tests.
Overall 6 of 19
