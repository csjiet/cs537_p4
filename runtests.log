('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -o mkfs mkfs.c -Wall
./mkfs -f real_disk_image.img -d 1000 -i 100
total blocks        1007
  inodes            100 [size of each: 128]
  data blocks       1000
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
gcc -o main main.c -Wall -L. -lmfs -g
ldd main
	linux-vdso.so.1 (0x00007fff0251b000)
	libmfs.so => ./libmfs.so (0x00007f71decd2000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f71dea8d000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f71decde000)
export LD_LIBRARY_PATH=.
ldd main
	linux-vdso.so.1 (0x00007fff6d5fc000)
	libmfs.so => ./libmfs.so (0x00007f5c2eda5000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f5c2eb60000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f5c2edb1000)


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9764
/tmp/tmpWyUFJa/p/server 9764 ./test.img


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7278
/tmp/tmpWyUFJa/p/server 7278 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test creat FAILED
 (creat a file and check with lookup)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9773
/tmp/tmpWyUFJa/p/server 9773 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test write FAILED
 (write then read one block)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6662
/tmp/tmpWyUFJa/p/server 6662 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test stat FAILED
 (stat a regular file)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7414
/tmp/tmpWyUFJa/p/server 7414 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test overwrite FAILED
 (overwrite a block)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5306
/tmp/tmpWyUFJa/p/server 5306 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test maxfile FAILED
 (write largest possible file)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9373
/tmp/tmpWyUFJa/p/server 9373 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'sparse')

**********************************************************************

Test sparse
write first and last block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8627
/tmp/tmpWyUFJa/p/server 8627 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test sparse FAILED
 (write first and last block)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'stat2')

**********************************************************************

Test stat2
stat a sparse file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7274
/tmp/tmpWyUFJa/p/server 7274 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test stat2 FAILED
 (stat a sparse file)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6147
/tmp/tmpWyUFJa/p/server 6147 ./test.img


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8035
/tmp/tmpWyUFJa/p/server 8035 ./test.img
Failure: MFS_Creat returned failure inum=0 type=0 name='testdir'


test dir2 FAILED
 (create a new directory and check it)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8986
/tmp/tmpWyUFJa/p/server 8986 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='testdir'


test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat returned failure inum=0 type=1 name='testdir'

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6412
/tmp/tmpWyUFJa/p/server 6412 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='testdir'


test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Creat returned failure inum=0 type=1 name='testdir'

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7404
/tmp/tmpWyUFJa/p/server 7404 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test unlink FAILED
 (unlink a file)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5205
/tmp/tmpWyUFJa/p/server 5205 ./test.img
Failure: MFS_Creat returned failure inum=0 type=0 name='test'


test unlink2 FAILED
 (unlink a directory)
 MFS_Creat returned failure inum=0 type=0 name='test'

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6543
/tmp/tmpWyUFJa/p/server 6543 ./test.img
Failure: MFS_Creat returned failure inum=0 type=0 name='testdir'


test empty FAILED
 (unlink a non-empty directory)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6209
/tmp/tmpWyUFJa/p/server 6209 ./test.img


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6689
/tmp/tmpWyUFJa/p/server 6689 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'


test persist FAILED
 (restart server after creating a file)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'drop')

**********************************************************************

Test drop
drop every other packet sent by client

**********************************************************************
Trying to clean project using make clean
make clean
rm -r *.o
rm ./main
rm ./libmfs.so
rm ./mkfs
rm -f client server server-fs client.o server.o server-fs.o
killall server	
server(85028): Operation not permitted
server: no process found
make: *** [Makefile:40: clean] Error 1
Trying to build project using make
make
gcc -Wall -Werror  -c client.c
gcc client.o -o client udp.c
gcc -Wall -Werror  -c server.c
gcc server.o -o server udp.c
gcc -Wall -Werror  -c server-fs.c
gcc server-fs.o -o server-fs udp.c
gcc -fPIC -g -c -Wall libmfs.c
gcc -Wall -Werror  -fpic -c udp.c
gcc -shared -Wl,-soname,libmfs.so -o libmfs.so libmfs.o udp.o -lc	
gcc -o mkfs mkfs.c -Wall
./mkfs -f real_disk_image.img -d 1000 -i 100
total blocks        1007
  inodes            100 [size of each: 128]
  data blocks       1000
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
gcc -o main main.c -Wall -L. -lmfs -g
ldd main
	linux-vdso.so.1 (0x00007ffde81fd000)
	libmfs.so => ./libmfs.so (0x00007f3727c5d000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f3727a18000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f3727c69000)
export LD_LIBRARY_PATH=.
ldd main
	linux-vdso.so.1 (0x00007fff88d78000)
	libmfs.so => ./libmfs.so (0x00007f4212004000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f4211dbf000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f4212010000)
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8884
/tmp/tmpWyUFJa/p/server 8884 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='test'
Trying to clean project using make clean
make clean
rm -r *.o
rm ./main
rm ./libmfs.so
rm ./mkfs
rm -f client server server-fs client.o server.o server-fs.o
killall server	
server(85028): Operation not permitted
server: no process found
make: *** [Makefile:40: clean] Error 1
Trying to build project using make
make
gcc -Wall -Werror  -c client.c
gcc client.o -o client udp.c
gcc -Wall -Werror  -c server.c
gcc server.o -o server udp.c
gcc -Wall -Werror  -c server-fs.c
gcc server-fs.o -o server-fs udp.c
gcc -fPIC -g -c -Wall libmfs.c
gcc -Wall -Werror  -fpic -c udp.c
gcc -shared -Wl,-soname,libmfs.so -o libmfs.so libmfs.o udp.o -lc	
gcc -o mkfs mkfs.c -Wall
./mkfs -f real_disk_image.img -d 1000 -i 100
total blocks        1007
  inodes            100 [size of each: 128]
  data blocks       1000
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
gcc -o main main.c -Wall -L. -lmfs -g
ldd main
	linux-vdso.so.1 (0x00007ffc43b1e000)
	libmfs.so => ./libmfs.so (0x00007fce31a0a000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fce317c5000)
	/lib64/ld-linux-x86-64.so.2 (0x00007fce31a16000)
export LD_LIBRARY_PATH=.
ldd main
	linux-vdso.so.1 (0x00007fffc8df5000)
	libmfs.so => ./libmfs.so (0x00007fedf3570000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fedf332b000)
	/lib64/ld-linux-x86-64.so.2 (0x00007fedf357c000)


test drop FAILED
 (drop every other packet sent by client)
 MFS_Creat returned failure inum=0 type=1 name='test'

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with max number of files

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6566
/tmp/tmpWyUFJa/p/server 6566 ./test.img
Failure: MFS_Creat returned failure inum=0 type=0 name='testdir'


test bigdir FAILED
 (create a directory with max number of files)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

('starting', 'bigdir2')

**********************************************************************

Test bigdir2
create a directory with more files than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8018
/tmp/tmpWyUFJa/p/server 8018 ./test.img
Failure: MFS_Creat returned failure inum=0 type=0 name='testdir'


test bigdir2 FAILED
 (create a directory with more files than possible)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7276
/tmp/tmpWyUFJa/p/server 7276 ./test.img
Failure: MFS_Creat returned failure inum=0 type=0 name='testdir'


test deep FAILED
 (create many deeply nested directories)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

('starting', 'complex')

**********************************************************************

Test complex
a long sequence of creats and writes followed by a check

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9870
/tmp/tmpWyUFJa/p/server 9870 ./test.img
Filesyste to be written:


/1
/1/1
/1/1/file2 [1, None, 1]
/1/1/file1 [2]
/1/file2 [1]
/1/file1 [1]
/1/2
/1/2/file2 [1, None, 2]
/1/2/file1 [3]
/1/0
/1/0/file2 [1, None, 0]
/1/0/file1 [1]
/0
/0/1
/0/1/file2 [0, None, 1]
/0/1/file1 [1]
/0/file2 [0]
/0/file1 [0]
/0/2
/0/2/file2 [0, None, 2]
/0/2/file1 [2]
/0/0
/0/0/file2 [0, None, 0]
/0/0/file1 [0]
/2
/2/1
/2/1/file2 [2, None, 1]
/2/1/file1 [3]
/2/file2 [2]
/2/file1 [2]
/2/2
/2/2/file2 [2, None, 2]
/2/2/file1 [4]
/2/0
/2/0/file2 [2, None, 0]
/2/0/file1 [2]

Failure: MFS_Creat returned failure inum=0 type=0 name='1'


test complex FAILED
 (a long sequence of creats and writes followed by a check)
 MFS_Creat returned failure inum=0 type=0 name='1'

('starting', 'complex2')

**********************************************************************

Test complex2
a long sequence of creats and writes followed by a check

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9394
/tmp/tmpWyUFJa/p/server 9394 ./test.img
Filesyste to be written:


/1
/1/1
/1/1/1
/1/1/1/file2 [1, None, 1, None, 1]
/1/1/1/file1 [3]
/1/1/file2 [1, None, 1]
/1/1/file1 [2]
/1/1/0
/1/1/0/file2 [1, None, 1, None, 0]
/1/1/0/file1 [2]
/1/file2 [2]
/1/file1 [1]
/1/2
/1/2/1
/1/2/1/file2 [1, None, 2, None, 1]
/1/2/1/file1 [4]
/1/2/file2 [1, None, 2]
/1/2/file1 [3]
/1/2/0
/1/2/0/file2 [1, None, 2, None, 0]
/1/2/0/file1 [3]
/1/0
/1/0/1
/1/0/1/file2 [1, None, 0, None, 1]
/1/0/1/file1 [2]
/1/0/file2 [1, None, 0]
/1/0/file1 [1]
/1/0/0
/1/0/0/file2 [1, None, 0, None, 0]
/1/0/0/file1 [1]
/0
/0/1
/0/1/1
/0/1/1/file2 [0, None, 1, None, 1]
/0/1/1/file1 [2]
/0/1/file2 [0, None, 1]
/0/1/file1 [1]
/0/1/0
/0/1/0/file2 [0, None, 1, None, 0]
/0/1/0/file1 [1]
/0/file2 [0]
/0/file1 [0]
/0/2
/0/2/1
/0/2/1/file2 [0, None, 2, None, 1]
/0/2/1/file1 [3]
/0/2/file2 [0, None, 2]
/0/2/file1 [2]
/0/2/0
/0/2/0/file2 [0, None, 2, None, 0]
/0/2/0/file1 [2]
/0/0
/0/0/1
/0/0/1/file2 [0, None, 0, None, 1]
/0/0/1/file1 [1]
/0/0/file2 [0, None, 0]
/0/0/file1 [0]
/0/0/0
/0/0/0/file2 [0, None, 0, None, 0]
/0/0/0/file1 [0]
/3
/3/1
/3/1/1
/3/1/1/file2 [3, None, 1, None, 1]
/3/1/1/file1 [5]
/3/1/file2 [3, None, 1]
/3/1/file1 [4]
/3/1/0
/3/1/0/file2 [3, None, 1, None, 0]
/3/1/0/file1 [4]
/3/file2 [6]
/3/file1 [3]
/3/2
/3/2/1
/3/2/1/file2 [3, None, 2, None, 1]
/3/2/1/file1 [6]
/3/2/file2 [3, None, 2]
/3/2/file1 [5]
/3/2/0
/3/2/0/file2 [3, None, 2, None, 0]
/3/2/0/file1 [5]
/3/0
/3/0/1
/3/0/1/file2 [3, None, 0, None, 1]
/3/0/1/file1 [4]
/3/0/file2 [3, None, 0]
/3/0/file1 [3]
/3/0/0
/3/0/0/file2 [3, None, 0, None, 0]
/3/0/0/file1 [3]
/2
/2/1
/2/1/1
/2/1/1/file2 [2, None, 1, None, 1]
/2/1/1/file1 [4]
/2/1/file2 [2, None, 1]
/2/1/file1 [3]
/2/1/0
/2/1/0/file2 [2, None, 1, None, 0]
/2/1/0/file1 [3]
/2/file2 [4]
/2/file1 [2]
/2/2
/2/2/1
/2/2/1/file2 [2, None, 2, None, 1]
/2/2/1/file1 [5]
/2/2/file2 [2, None, 2]
/2/2/file1 [4]
/2/2/0
/2/2/0/file2 [2, None, 2, None, 0]
/2/2/0/file1 [4]
/2/0
/2/0/1
/2/0/1/file2 [2, None, 0, None, 1]
/2/0/1/file1 [3]
/2/0/file2 [2, None, 0]
/2/0/file1 [2]
/2/0/0
/2/0/0/file2 [2, None, 0, None, 0]
/2/0/0/file1 [2]

Failure: MFS_Creat returned failure inum=0 type=0 name='1'


test complex2 FAILED
 (a long sequence of creats and writes followed by a check)
 MFS_Creat returned failure inum=0 type=0 name='1'

('starting', 'persist2')

**********************************************************************

Test persist2
restart server after creating many dirs and files

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6931
/tmp/tmpWyUFJa/p/server 6931 ./test.img
Filesyste to be written:


/1
/1/1
/1/1/1
/1/1/1/file2 [1, None, 1, None, 1]
/1/1/1/file1 [3]
/1/1/file2 [1, None, 1]
/1/1/file1 [2]
/1/1/0
/1/1/0/file2 [1, None, 1, None, 0]
/1/1/0/file1 [2]
/1/file2 [2]
/1/file1 [1]
/1/2
/1/2/1
/1/2/1/file2 [1, None, 2, None, 1]
/1/2/1/file1 [4]
/1/2/file2 [1, None, 2]
/1/2/file1 [3]
/1/2/0
/1/2/0/file2 [1, None, 2, None, 0]
/1/2/0/file1 [3]
/1/0
/1/0/1
/1/0/1/file2 [1, None, 0, None, 1]
/1/0/1/file1 [2]
/1/0/file2 [1, None, 0]
/1/0/file1 [1]
/1/0/0
/1/0/0/file2 [1, None, 0, None, 0]
/1/0/0/file1 [1]
/0
/0/1
/0/1/1
/0/1/1/file2 [0, None, 1, None, 1]
/0/1/1/file1 [2]
/0/1/file2 [0, None, 1]
/0/1/file1 [1]
/0/1/0
/0/1/0/file2 [0, None, 1, None, 0]
/0/1/0/file1 [1]
/0/file2 [0]
/0/file1 [0]
/0/2
/0/2/1
/0/2/1/file2 [0, None, 2, None, 1]
/0/2/1/file1 [3]
/0/2/file2 [0, None, 2]
/0/2/file1 [2]
/0/2/0
/0/2/0/file2 [0, None, 2, None, 0]
/0/2/0/file1 [2]
/0/0
/0/0/1
/0/0/1/file2 [0, None, 0, None, 1]
/0/0/1/file1 [1]
/0/0/file2 [0, None, 0]
/0/0/file1 [0]
/0/0/0
/0/0/0/file2 [0, None, 0, None, 0]
/0/0/0/file1 [0]
/3
/3/1
/3/1/1
/3/1/1/file2 [3, None, 1, None, 1]
/3/1/1/file1 [5]
/3/1/file2 [3, None, 1]
/3/1/file1 [4]
/3/1/0
/3/1/0/file2 [3, None, 1, None, 0]
/3/1/0/file1 [4]
/3/file2 [6]
/3/file1 [3]
/3/2
/3/2/1
/3/2/1/file2 [3, None, 2, None, 1]
/3/2/1/file1 [6]
/3/2/file2 [3, None, 2]
/3/2/file1 [5]
/3/2/0
/3/2/0/file2 [3, None, 2, None, 0]
/3/2/0/file1 [5]
/3/0
/3/0/1
/3/0/1/file2 [3, None, 0, None, 1]
/3/0/1/file1 [4]
/3/0/file2 [3, None, 0]
/3/0/file1 [3]
/3/0/0
/3/0/0/file2 [3, None, 0, None, 0]
/3/0/0/file1 [3]
/2
/2/1
/2/1/1
/2/1/1/file2 [2, None, 1, None, 1]
/2/1/1/file1 [4]
/2/1/file2 [2, None, 1]
/2/1/file1 [3]
/2/1/0
/2/1/0/file2 [2, None, 1, None, 0]
/2/1/0/file1 [3]
/2/file2 [4]
/2/file1 [2]
/2/2
/2/2/1
/2/2/1/file2 [2, None, 2, None, 1]
/2/2/1/file1 [5]
/2/2/file2 [2, None, 2]
/2/2/file1 [4]
/2/2/0
/2/2/0/file2 [2, None, 2, None, 0]
/2/2/0/file1 [4]
/2/0
/2/0/1
/2/0/1/file2 [2, None, 0, None, 1]
/2/0/1/file1 [3]
/2/0/file2 [2, None, 0]
/2/0/file1 [2]
/2/0/0
/2/0/0/file2 [2, None, 0, None, 0]
/2/0/0/file1 [2]

Failure: MFS_Creat returned failure inum=0 type=0 name='1'


test persist2 FAILED
 (restart server after creating many dirs and files)
 MFS_Creat returned failure inum=0 type=0 name='1'

('starting', 'free')

**********************************************************************

Test free
check that inodes and direcrtory entries are freed

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6114
/tmp/tmpWyUFJa/p/server 6114 ./test.img
Failure: MFS_Creat returned failure inum=0 type=1 name='0'


test free FAILED
 (check that inodes and direcrtory entries are freed)
 MFS_Creat returned failure inum=0 type=1 name='0'

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat FAILED
 (creat a file and check with lookup)
 MFS_Creat returned failure inum=0 type=1 name='test'

test write FAILED
 (write then read one block)
 MFS_Creat returned failure inum=0 type=1 name='test'

test stat FAILED
 (stat a regular file)
 MFS_Creat returned failure inum=0 type=1 name='test'

test overwrite FAILED
 (overwrite a block)
 MFS_Creat returned failure inum=0 type=1 name='test'

test maxfile FAILED
 (write largest possible file)
 MFS_Creat returned failure inum=0 type=1 name='test'

test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Creat returned failure inum=0 type=1 name='test'

test sparse FAILED
 (write first and last block)
 MFS_Creat returned failure inum=0 type=1 name='test'

test stat2 FAILED
 (stat a sparse file)
 MFS_Creat returned failure inum=0 type=1 name='test'

test dir1 PASSED
 (check root for dot entries)

test dir2 FAILED
 (create a new directory and check it)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat returned failure inum=0 type=1 name='testdir'

test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Creat returned failure inum=0 type=1 name='testdir'

test unlink FAILED
 (unlink a file)
 MFS_Creat returned failure inum=0 type=1 name='test'

test unlink2 FAILED
 (unlink a directory)
 MFS_Creat returned failure inum=0 type=0 name='test'

test empty FAILED
 (unlink a non-empty directory)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 MFS_Creat returned failure inum=0 type=1 name='test'

test drop FAILED
 (drop every other packet sent by client)
 MFS_Creat returned failure inum=0 type=1 name='test'

test bigdir FAILED
 (create a directory with max number of files)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

test bigdir2 FAILED
 (create a directory with more files than possible)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

test deep FAILED
 (create many deeply nested directories)
 MFS_Creat returned failure inum=0 type=0 name='testdir'

test complex FAILED
 (a long sequence of creats and writes followed by a check)
 MFS_Creat returned failure inum=0 type=0 name='1'

test complex2 FAILED
 (a long sequence of creats and writes followed by a check)
 MFS_Creat returned failure inum=0 type=0 name='1'

test persist2 FAILED
 (restart server after creating many dirs and files)
 MFS_Creat returned failure inum=0 type=0 name='1'

test free FAILED
 (check that inodes and direcrtory entries are freed)
 MFS_Creat returned failure inum=0 type=1 name='0'

Passed 4 of 27 tests.
Overall 4 of 27
