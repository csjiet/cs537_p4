('starting', 'build')

**********************************************************************

Test build
build project using make

**********************************************************************
Trying to build project using make
make
gcc -o mkfs mkfs.c -Wall
./mkfs -f real_disk_image.img -d 1000 -i 100
total blocks        1007
  inodes            100 [size of each: 128]
  data blocks       1000
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
gcc -o main main.c -Wall -L. -lmfs -g
ldd main
	linux-vdso.so.1 (0x00007ffd8ada2000)
	libmfs.so => ./libmfs.so (0x00007f4819361000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f481911c000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f481936d000)
export LD_LIBRARY_PATH=.
ldd main
	linux-vdso.so.1 (0x00007fffe24da000)
	libmfs.so => ./libmfs.so (0x00007f51ae79a000)
	libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f51ae555000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f51ae7a6000)


test build PASSED
 (build project using make)

('starting', 'shutdown')

**********************************************************************

Test shutdown
init server and client then call shutdown

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7373
/tmp/tmpBGaOTo/p/server 7373 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test shutdown PASSED
 (init server and client then call shutdown)

('starting', 'creat')

**********************************************************************

Test creat
creat a file and check with lookup

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6894
/tmp/tmpBGaOTo/p/server 6894 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]
TYPE line 375: 1
0x7fffe18bdcf0


test creat PASSED
 (creat a file and check with lookup)

('starting', 'write')

**********************************************************************

Test write
write then read one block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7698
/tmp/tmpBGaOTo/p/server 7698 /home/lull/private/CS537/p4/cs537_p4/test.img
('START BLOCK 1\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00END BLOCK 1')
('\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
Failure: Corrupt data returned by read


test write FAILED
 (write then read one block)
 Corrupt data returned by read

('starting', 'stat')

**********************************************************************

Test stat
stat a regular file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7642
/tmp/tmpBGaOTo/p/server 7642 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Stat gave wrong size


test stat FAILED
 (stat a regular file)
 Stat gave wrong size

('starting', 'overwrite')

**********************************************************************

Test overwrite
overwrite a block

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8327
/tmp/tmpBGaOTo/p/server 8327 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Corrupt data returned by read


test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

('starting', 'maxfile')

**********************************************************************

Test maxfile
write largest possible file

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6573
/tmp/tmpBGaOTo/p/server 6573 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Corrupt data returned by read


test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

('starting', 'maxfile2')

**********************************************************************

Test maxfile2
write more blocks than possible

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 8816
/tmp/tmpBGaOTo/p/server 8816 /home/lull/private/CS537/p4/cs537_p4/test.img
31
write more than need
Failure: MFS_Write should fail on inalid block number


test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

('starting', 'dir1')

**********************************************************************

Test dir1
check root for dot entries

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5054
/tmp/tmpBGaOTo/p/server 5054 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test dir1 PASSED
 (check root for dot entries)

('starting', 'dir2')

**********************************************************************

Test dir2
create a new directory and check it

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6726
/tmp/tmpBGaOTo/p/server 6726 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]
TYPE line 375: 0
0x7ffc9c5f3630


test dir2 PASSED
 (create a new directory and check it)

('starting', 'baddir')

**********************************************************************

Test baddir
try to create a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7121
/tmp/tmpBGaOTo/p/server 7121 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Creat should fail if pinum is not a directory


test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory

('starting', 'baddir2')

**********************************************************************

Test baddir2
try to lookup a file with a file parent inode

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6788
/tmp/tmpBGaOTo/p/server 6788 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Lookup should fail if pinum is not a directory


test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory

('starting', 'unlink')

**********************************************************************

Test unlink
unlink a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9001
/tmp/tmpBGaOTo/p/server 9001 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Unlink returned failure pinum=0 name='test'


test unlink FAILED
 (unlink a file)
 MFS_Unlink returned failure pinum=0 name='test'

('starting', 'unlink2')

**********************************************************************

Test unlink2
unlink a directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6179
/tmp/tmpBGaOTo/p/server 6179 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Unlink returned failure pinum=0 name='test'


test unlink2 FAILED
 (unlink a directory)
 MFS_Unlink returned failure pinum=0 name='test'

('starting', 'empty')

**********************************************************************

Test empty
unlink a non-empty directory

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 9347
/tmp/tmpBGaOTo/p/server 9347 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: MFS_Unlink returned failure pinum=0 name='testfile'


test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink returned failure pinum=0 name='testfile'

('starting', 'name')

**********************************************************************

Test name
name too long

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 6646
/tmp/tmpBGaOTo/p/server 6646 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 1]
 data region address 4 [len 32]
 num inodes: 32 ;num data: [len 32]


test name PASSED
 (name too long)

('starting', 'persist')

**********************************************************************

Test persist
restart server after creating a file

**********************************************************************
total blocks        36
  inodes            32 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 5107
/tmp/tmpBGaOTo/p/server 5107 /home/lull/private/CS537/p4/cs537_p4/test.img
Failure: Corrupt data returned by read


test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

('starting', 'bigdir')

**********************************************************************

Test bigdir
create a directory with 126 files

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7309
/tmp/tmpBGaOTo/p/server 7309 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 4]
 data region address 7 [len 32]
 num inodes: 128 ;num data: [len 32]
TYPE line 375: 0
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0
TYPE line 375: 1
0x7ffea9eba0a0


test bigdir PASSED
 (create a directory with 126 files)

('starting', 'deep')

**********************************************************************

Test deep
create many deeply nested directories

**********************************************************************
total blocks        39
  inodes            128 [size of each: 128]
  data blocks       32
layout details
  inode bitmap address/len 1 [1]
  data bitmap address/len  2 [1]
Starting server on port 7052
/tmp/tmpBGaOTo/p/server 7052 /home/lull/private/CS537/p4/cs537_p4/test.img
-------Describes IMG + super block-----------
SUPERBLOCK
 inode bitmap address 1 [len 1]
 data bitmap address 2 [len 1]
 inode region address 3 [len 4]
 data region address 7 [len 32]
 num inodes: 128 ;num data: [len 32]
TYPE line 375: 0
0x7ffc18054f40
TYPE line 375: 0
0x7ffc18054f40
TYPE line 375: 0
0x7ffc18054f40
TYPE line 375: 0
0x7ffc18054f40
TYPE line 375: 0
0x7ffc18054f40


test deep PASSED
 (create many deeply nested directories)

**********************************************************************
Summary:
test build PASSED
 (build project using make)

test shutdown PASSED
 (init server and client then call shutdown)

test creat PASSED
 (creat a file and check with lookup)

test write FAILED
 (write then read one block)
 Corrupt data returned by read

test stat FAILED
 (stat a regular file)
 Stat gave wrong size

test overwrite FAILED
 (overwrite a block)
 Corrupt data returned by read

test maxfile FAILED
 (write largest possible file)
 Corrupt data returned by read

test maxfile2 FAILED
 (write more blocks than possible)
 MFS_Write should fail on inalid block number

test dir1 PASSED
 (check root for dot entries)

test dir2 PASSED
 (create a new directory and check it)

test baddir FAILED
 (try to create a file with a file parent inode)
 MFS_Creat should fail if pinum is not a directory

test baddir2 FAILED
 (try to lookup a file with a file parent inode)
 MFS_Lookup should fail if pinum is not a directory

test unlink FAILED
 (unlink a file)
 MFS_Unlink returned failure pinum=0 name='test'

test unlink2 FAILED
 (unlink a directory)
 MFS_Unlink returned failure pinum=0 name='test'

test empty FAILED
 (unlink a non-empty directory)
 MFS_Unlink returned failure pinum=0 name='testfile'

test name PASSED
 (name too long)

test persist FAILED
 (restart server after creating a file)
 Corrupt data returned by read

test bigdir PASSED
 (create a directory with 126 files)

test deep PASSED
 (create many deeply nested directories)

Passed 8 of 19 tests.
Overall 8 of 19
